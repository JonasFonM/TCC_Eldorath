generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["relationJoins"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model personagem {
  id             Int      @id @default(autoincrement())
  criadoEm       DateTime @default(now()) @db.Timestamp(0)
  nome           String   @db.Text
  nivel          Int
  xp             Int      @default(0)
  tier           Int
  ptsLinhagem    Int      @default(2)
  ptsCaminhos    Int      @default(1)
  ptsHabilidades Int      @default(2)
  ptsTreinos     Int      @default(1)
  ouro           Int      @default(50)
  agi            Int
  cor            Int
  det            Int
  foc            Int
  men            Int
  vig            Int
  derivados derivados? @relation
  authorId       Int
  user           user     @relation(fields: [authorId], references: [id], map: "character_ibfk_1")
}

model derivados {
  id   Int  @id @default(autoincrement())
  charId Int @unique
  personagem personagem @relation(fields: [charId], references: [id], map: "personagem_fk_1")
}

model user {
  id          Int          @id @default(autoincrement())
  createdAt   DateTime     @default(now())
  updatedAt   DateTime     @updatedAt
  email       String       @unique
  username    String
  password    String
  personagens personagem[] @relation()
}
